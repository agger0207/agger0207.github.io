
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>穷小子Agger的技术博客</title>
  <meta name="author" content="Agger">

  
  <meta name="description" content="Xcode使用 单元测试覆盖率 多个Xcode版本混装问题 在同一台机器上安装过不同版本的Xcode的时候，在执行某些操作的时候(比如说执行git命令的时候)会提示Xcode找不到之类的错误，此时可以通过如下命令指定使用某个对应的Xcode: $ sudo xcode-select -- &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://agger0207.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="穷小子Agger的技术博客" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">穷小子Agger的技术博客</a></h1>
  
    <h2>临渊羡鱼，不如退而结网</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="agger0207.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">首页</a></li>
  <li><a href="/blog/categories/ios">iOS</a></li>
  <li><a href="/blog/categories/kai-yuan-ku">开源库</a></li>
  <li><a href="/blog/categories/jing-yan-ji-qiao">经验技巧</a></li>
  <li><a href="/blog/categories/gong-ju">工具</a></li>
  <li><a href="/blog/archives">所有文章</a></li>
</ul>
</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/02/gong-zuo-zhong-yu-dao-de-xiao-wen-ti-yu-jie-jue-fang-an-bei-wang-%5B%3F%5D/">工作中遇到的小问题与解决方案备忘 一</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-02T14:28:12+08:00'><span class='date'>2016 年1 月2 日</span> <span class='time'>2:28 pm</span></time>
        
        
           | <a href="/blog/2016/01/02/gong-zuo-zhong-yu-dao-de-xiao-wen-ti-yu-jie-jue-fang-an-bei-wang-%5B%3F%5D/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Xcode使用</h2>

<h3>单元测试覆盖率</h3>

<h3>多个Xcode版本混装问题</h3>

<p>在同一台机器上安装过不同版本的Xcode的时候，在执行某些操作的时候(比如说执行git命令的时候)会提示Xcode找不到之类的错误，此时可以通过如下命令指定使用某个对应的Xcode:</p>

<pre><code>$ sudo xcode-select --switch /Applications/Xcode.app
</code></pre>

<p>其中，<code>/Applications/Xcode.app</code>是要使用的Xcode版本的目录，一般默认的目录就是这个.</p>

<h3>检查Xcode是否正版可用</h3>

<p>在Xcode Ghost事件后，Apple提供了命令行来检查Xcode是否正版可用.</p>

<p>参考链接：</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/02/macxia-you-yong-de-gong-ju/">Mac下有用的工具</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-02T14:06:47+08:00'><span class='date'>2016 年1 月2 日</span> <span class='time'>2:06 pm</span></time>
        
        
           | <a href="/blog/2016/01/02/macxia-you-yong-de-gong-ju/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Prepo: 图标输出工具</h3>

<p>可以快速输出iOS App开发中所需要的@2x, @1x, @3x 的图标;</p>

<h2>通用工具</h2>

<p>在各个系统下都好用的一些工具：</p>

<p>WebStorm: Web开发IDE, 方便JS开发；
Sublime Text 3:
Beyond Compare: 文件与文件夹比较神器；</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/02/ioskai-fa-mei-zhou-wen-zhang-xuan-du-8/">iOS开发每周文章选读 之 第八周</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-02T13:54:06+08:00'><span class='date'>2016 年1 月2 日</span> <span class='time'>1:54 pm</span></time>
        
        
           | <a href="/blog/2016/01/02/ioskai-fa-mei-zhou-wen-zhang-xuan-du-8/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/02/uivieiewyu-calayer/">UIView与CALayer</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-02T13:49:22+08:00'><span class='date'>2016 年1 月2 日</span> <span class='time'>1:49 pm</span></time>
        
        
           | <a href="/blog/2016/01/02/uivieiewyu-calayer/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/01/iosjie-mian-xing-neng-you-hua/">iOS界面性能分析与优化</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-01T20:17:14+08:00'><span class='date'>2016 年1 月1 日</span> <span class='time'>8:17 pm</span></time>
        
        
           | <a href="/blog/2016/01/01/iosjie-mian-xing-neng-you-hua/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Instrument性能分析</h2>

<h3>Time Profiler</h3>

<h3>Core Animation</h3>

<h3>OpenGL ES</h3>

<h2>性能因素</h2>

<h3>Blending</h3>

<h3>离屏渲染</h3>

<h3>DrawRect</h3>

<h2>UITableView</h2>

<h2>改进方案</h2>

<h3>异步绘制</h3>

<h3>AsyncDisplayKit</h3>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/01/xiu-gai-git-commitli-shi/">修改git commit历史</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-01T18:27:46+08:00'><span class='date'>2016 年1 月1 日</span> <span class='time'>6:27 pm</span></time>
        
        
           | <a href="/blog/2016/01/01/xiu-gai-git-commitli-shi/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>例如，一个需求是，之前递交的时候本地设置的email地址都错了，那么需要把之前所有的提交的电子邮件地址改过来，也就是批量修改commit历史，而<code>git commit --amend</code>命令只能修改最近的一次提交，这个时候就可以用到git filter-branch命令了，示例如下：</p>

<pre><code>$ git filter-branch --commit-filter '
        if [ "$GIT_AUTHOR_EMAIL" = "xxx@xxx.com" ];
        then
                GIT_AUTHOR_NAME="agger0207";
                GIT_AUTHOR_EMAIL="agger0207@users.noreply.github.com";
                git commit-tree "$@";
        else
                git commit-tree "$@";
        fi' HEAD
</code></pre>

<p>如果之前执行过一次，会报错，说无法backup之类，原因是会再一次rewrite .git目录下的<code>refs/original/</code>, 这时加个参数<code>-f</code>强制执行即可：</p>

<pre><code>git filter-branch -f --commit-filter '
            if [ "$GIT_AUTHOR_EMAIL" = "xxx@xxx.com" ];
            then
                    GIT_AUTHOR_NAME="agger0207";
                    GIT_AUTHOR_EMAIL="agger0207@users.noreply.github.com";
                    git commit-tree "$@";
            else
                    git commit-tree "$@";
            fi' HEAD
</code></pre>

<p>同理，也可以删除某个作者或者email地址对应的历史commit:</p>

<pre><code>git filter-branch --commit-filter '
        if [ "$GIT_AUTHOR_EMAIL" = "xxx@xxx.com" ];
        then
                skip_commit "$@";
        else
                git commit-tree "$@";
        fi' HEAD
</code></pre>

<p>如何判断某个提交是从哪个地址或者作者提交呢? github在自己的帮助文档<a href="https://help.github.com/articles/why-are-my-contributions-not-showing-up-on-my-profile/">check the email address used for a commit</a>里明确提到，在commit对应的url下加上.patch就会显示递交的作者信息了，例如, 通过url<code>https://github.com/octocat/octocat.github.io/commit/67c0afc1da354d8571f51b6f0af8f2794117fd10.patch</code>就可以得到<code>octocat.github.io</code>这个rep的commit<code>67c0afc1da354d8571f51b6f0af8f2794117fd10</code>的提交信息如下:</p>

<pre><code>From 67c0afc1da354d8571f51b6f0af8f2794117fd10 Mon Sep 17 00:00:00 2001
From: The Octocat &lt;octocat@nowhere.com&gt;
Date: Sun, 27 Apr 2014 15:36:39 +0530
Subject: [PATCH] updated index for better welcome message
</code></pre>

<p>我实践的时候，前面进行的都很顺利，但是提交的时候<code>git push</code>会报错，git会认为有分支的发散，但是我试着先<code>git pull</code>在<code>git push</code>的话发现后来是多了很多commit而不是直接覆盖掉原有的commit; 后来尝试直接<code>git push -f</code>强制覆盖，貌似可以解决问题。然后看参考链接中的<a href="https://www.kernel.org/pub/software/scm/git/docs/git-filter-branch.html">git-filter-branch(1) Manual Page</a>也提到，除非清楚的知道要做什么，否则谨慎使用git filter-branch, 因为无法安全的push, 原文如下：</p>

<pre><code>WARNING! The rewritten history will have different object names for all the objects and will not converge with the original branch. You will not be able to easily push and distribute the rewritten branch on top of the original branch. Please do not use this command if you do not know the full implications, and avoid using it anyway, if a simple single commit would suffice to fix your problem. (See the "RECOVERING FROM UPSTREAM REBASE" section in git-rebase(1) for further information about rewriting published history.)

Always verify that the rewritten version is correct: The original refs, if different from the rewritten ones, will be stored in the namespace refs/original/.
</code></pre>

<h2>参考资料</h2>

<ul>
<li><a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2">Git 工具 - 重写历史</a></li>
<li><a href="https://www.kernel.org/pub/software/scm/git/docs/git-filter-branch.html">git-filter-branch(1) Manual Page</a></li>
<li><a href="https://help.github.com/articles/why-are-my-contributions-not-showing-up-on-my-profile/">check the email address used for a commit</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/01/01/ru-he-tong-guo-dai-ma-xiu-gai-xcodegong-cheng-wen-jian/">如何通过代码修改Xcode工程文件</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-01T14:22:42+08:00'><span class='date'>2016 年1 月1 日</span> <span class='time'>2:22 pm</span></time>
        
        
           | <a href="/blog/2016/01/01/ru-he-tong-guo-dai-ma-xiu-gai-xcodegong-cheng-wen-jian/#comments">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content">
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
	<p>
		
	</p>
	<p>
		Hi，我是穷小子Agger，现在就职于网易，曾经先后在虹软，尼禄和挖财工作，现在主要从事iOS相关的开发工作。
	</p>
</section><section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/01/02/gong-zuo-zhong-yu-dao-de-xiao-wen-ti-yu-jie-jue-fang-an-bei-wang-%5B%3F%5D/">工作中遇到的小问题与解决方案备忘 一</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/02/macxia-you-yong-de-gong-ju/">Mac下有用的工具</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/02/ioskai-fa-mei-zhou-wen-zhang-xuan-du-8/">iOS开发每周文章选读 之 第八周</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/02/uivieiewyu-calayer/">UIView与CALayer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/01/iosjie-mian-xing-neng-you-hua/">iOS界面性能分析与优化</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/01/xiu-gai-git-commitli-shi/">修改git commit历史</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/01/ru-he-tong-guo-dai-ma-xiu-gai-xcodegong-cheng-wen-jian/">如何通过代码修改Xcode工程文件</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/01/ru-he-chuang-jian-zi-ji-de-si-you-pod-spec-repo/">如何创建自己的私有Pod Spec Repo</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/01/githubshang-contributionsdiu-shi-de-wen-ti/">github上Contributions丢失的问题</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/01/zai-liang-tai-ji-qi-shang-tong-shi-yong-octopressxie-bo-ke-de-wen-ti/">在两台机器上同时用octopress写博客的问题</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>友情链接</h1>
  <ul id="friendly_link">
    <li class="post">
      <a href="http://blog.devtang.com">唐巧的技术博客</a>
    </li>
    <li class="post">
      <a href="http://onevcat.com">OneV's Den</a>
    </li>
    <li class="post">
      <a href="http://blog.sunnyxx.com">sunnyxx</a>
    </li>
    <li class="post">
      <a href="http://blog.leichunfeng.com">雷纯锋的技术博客</a>
    </li>
    <li class="post">
      <a href="http://southpeak.github.io">南峰子的技术博客</a>
    </li>
    <li class="post">
      <a href="http://nshipster.cn">nshipster</a>
    </li>
  </ul>
</section>
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Agger -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
